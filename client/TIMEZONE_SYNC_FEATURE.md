# æ—¶åŒºåŒæ­¥åŠŸèƒ½è¯´æ˜Ž

## âœ¨ æ–°å¢žåŠŸèƒ½

åœ¨æ—¶åŒºé…ç½®é¡µé¢ä¸­æ·»åŠ äº†**è‡ªåŠ¨æ£€æµ‹å’ŒåŒæ­¥è®¿é—®è€…ç³»ç»Ÿæ—¶é—´**çš„åŠŸèƒ½ã€‚

## ðŸŽ¯ åŠŸèƒ½ç‰¹æ€§

### 1. è‡ªåŠ¨æ£€æµ‹å®¢æˆ·ç«¯æ—¶åŒº
- âœ… è‡ªåŠ¨æ£€æµ‹è®¿é—®è€…çš„æµè§ˆå™¨æ—¶åŒº
- âœ… æ˜¾ç¤ºå®¢æˆ·ç«¯çš„å®žæ—¶æœ¬åœ°æ—¶é—´
- âœ… æ˜¾ç¤ºæ—¶åŒºåç§»é‡ï¼ˆå¦‚ UTC+8ï¼‰
- âœ… æ˜¾ç¤ºå®Œæ•´çš„æ—¶åŒºæ ‡è¯†ç¬¦ï¼ˆå¦‚ Asia/Shanghaiï¼‰

### 2. ä¸€é”®åŒæ­¥æ—¶åŒº
- âœ… ç‚¹å‡»"åŒæ­¥æ­¤æ—¶åŒº"æŒ‰é’®
- âœ… è‡ªåŠ¨å°†æœåŠ¡å™¨æ—¶åŒºè®¾ç½®ä¸ºå®¢æˆ·ç«¯æ—¶åŒº
- âœ… æ™ºèƒ½åŒ¹é…æœ€æŽ¥è¿‘çš„æ—¶åŒº
- âœ… å³æ—¶åé¦ˆåŒæ­¥ç»“æžœ

### 3. åŒæ—¶é—´æ˜¾ç¤º
- âœ… æœåŠ¡å™¨æ—¶é—´é¢„è§ˆï¼ˆè“ç´«æ¸å˜å¡ç‰‡ï¼‰
- âœ… å®¢æˆ·ç«¯æœ¬åœ°æ—¶é—´ï¼ˆç»¿è‰²æ¸å˜å¡ç‰‡ï¼‰
- âœ… å®žæ—¶æ›´æ–°ï¼ˆæ¯ç§’åˆ·æ–°ï¼‰
- âœ… æ¸…æ™°çš„è§†è§‰å¯¹æ¯”

## ðŸ“± ç•Œé¢å±•ç¤º

### æœåŠ¡å™¨æ—¶é—´å¡ç‰‡ï¼ˆè“ç´«è‰²ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ• æœåŠ¡å™¨æ—¶é—´é¢„è§ˆ                        â”‚
â”‚                                         â”‚
â”‚ 2024-11-08 22:30:45                    â”‚
â”‚ ä¸­å›½æ ‡å‡†æ—¶é—´ (åŒ—äº¬)          UTC+8      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®¢æˆ·ç«¯æ—¶é—´å¡ç‰‡ï¼ˆç»¿è‰²ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ• æ‚¨çš„æœ¬åœ°æ—¶é—´                          â”‚
â”‚                                         â”‚
â”‚ 2024-11-08 23:30:45        UTC+9       â”‚
â”‚ Asia/Tokyo              [åŒæ­¥æ­¤æ—¶åŒº]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”§ æŠ€æœ¯å®žçŽ°

### 1. æ—¶åŒºæ£€æµ‹
```typescript
const detectClientTimezone = () => {
  // ä½¿ç”¨ Intl API èŽ·å–å®¢æˆ·ç«¯æ—¶åŒº
  const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
  
  // è®¡ç®—æ—¶åŒºåç§»
  const offset = -new Date().getTimezoneOffset() / 60;
  const offsetStr = `UTC${offset >= 0 ? '+' : ''}${offset}`;
  
  setClientTimezone(timezone);
  setClientOffset(offsetStr);
};
```

### 2. æ™ºèƒ½åŒ¹é…
```typescript
const syncClientTimezone = () => {
  // 1. æ£€æŸ¥æ˜¯å¦åœ¨æ”¯æŒåˆ—è¡¨ä¸­
  const supportedTimezone = timezoneOptions.find(
    tz => tz.value === clientTimezone
  );
  
  if (supportedTimezone) {
    // ç›´æŽ¥ä½¿ç”¨
    setConfig({ ...config, value: clientTimezone });
  } else {
    // 2. æŸ¥æ‰¾æœ€æŽ¥è¿‘çš„æ—¶åŒº
    const closestTimezone = findClosestTimezone(offset);
    setConfig({ ...config, value: closestTimezone.value });
  }
};
```

### 3. æœ€æŽ¥è¿‘æ—¶åŒºç®—æ³•
```typescript
const findClosestTimezone = (targetOffset: number) => {
  let closestTz = null;
  let minDiff = Infinity;

  timezoneOptions.forEach(tz => {
    const tzOffset = offsetMap[tz.value] || 0;
    const diff = Math.abs(tzOffset - targetOffset);
    
    if (diff < minDiff) {
      minDiff = diff;
      closestTz = tz;
    }
  });

  return closestTz;
};
```

## ðŸŽ¨ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šç®¡ç†å‘˜åœ¨ä¸åŒåœ°åŒº
ç®¡ç†å‘˜åœ¨æ—¥æœ¬è®¿é—®ç³»ç»Ÿï¼š
1. ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹åˆ° `Asia/Tokyo` (UTC+9)
2. æ˜¾ç¤ºæœ¬åœ°æ—¶é—´ï¼š2024-11-08 23:30:45
3. ç‚¹å‡»"åŒæ­¥æ­¤æ—¶åŒº"
4. æœåŠ¡å™¨æ—¶åŒºæ›´æ–°ä¸º Asia/Tokyo

### åœºæ™¯2ï¼šæ—¶åŒºä¸åœ¨æ”¯æŒåˆ—è¡¨
ç®¡ç†å‘˜åœ¨å°åº¦è®¿é—®ç³»ç»Ÿï¼š
1. ç³»ç»Ÿæ£€æµ‹åˆ° `Asia/Kolkata` (UTC+5.5)
2. è‡ªåŠ¨åŒ¹é…æœ€æŽ¥è¿‘çš„ `Asia/Dubai` (UTC+4)
3. æç¤ºï¼šå·²åŒæ­¥åˆ°æœ€æŽ¥è¿‘çš„æ—¶åŒº

### åœºæ™¯3ï¼šå¿«é€Ÿé…ç½®
æ–°éƒ¨ç½²çš„ç³»ç»Ÿï¼š
1. ç®¡ç†å‘˜é¦–æ¬¡è®¿é—®æ—¶åŒºé…ç½®
2. çœ‹åˆ°æœ¬åœ°æ—¶é—´æ˜¾ç¤º
3. ä¸€é”®åŒæ­¥ï¼Œæ— éœ€æ‰‹åŠ¨é€‰æ‹©
4. ç«‹å³ç”Ÿæ•ˆ

## ðŸ“Š æ”¯æŒçš„æ—¶åŒº

ç³»ç»Ÿæ”¯æŒ19ä¸ªä¸»è¦æ—¶åŒºï¼Œè¦†ç›–å…¨çƒä¸»è¦åœ°åŒºï¼š

| åœ°åŒº | æ—¶åŒºæ•°é‡ | ç¤ºä¾‹ |
|------|---------|------|
| äºšæ´² | 7 | Asia/Shanghai, Asia/Tokyo |
| æ¬§æ´² | 4 | Europe/London, Europe/Paris |
| ç¾Žæ´² | 5 | America/New_York, America/Los_Angeles |
| å¤§æ´‹æ´² | 2 | Australia/Sydney, Pacific/Auckland |
| å…¶ä»– | 1 | UTC |

## ðŸš€ ä½¿ç”¨æ­¥éª¤

### 1. è®¿é—®é…ç½®é¡µé¢
```
ç®¡ç†åŽå° â†’ ç³»ç»Ÿè®¾ç½® â†’ æ—¶åŒºé…ç½®æ ‡ç­¾
```

### 2. æŸ¥çœ‹å®¢æˆ·ç«¯æ—¶åŒº
- é¡µé¢è‡ªåŠ¨æ˜¾ç¤ºæ‚¨çš„æœ¬åœ°æ—¶é—´
- æ˜¾ç¤ºæ—¶åŒºæ ‡è¯†ç¬¦å’Œåç§»é‡

### 3. åŒæ­¥æ—¶åŒº
- ç‚¹å‡»ç»¿è‰²å¡ç‰‡ä¸­çš„"åŒæ­¥æ­¤æ—¶åŒº"æŒ‰é’®
- ç³»ç»Ÿè‡ªåŠ¨åŒ¹é…å¹¶è®¾ç½®æ—¶åŒº
- æŸ¥çœ‹æˆåŠŸæç¤ºæ¶ˆæ¯

### 4. ä¿å­˜é…ç½®
- ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®
- å»ºè®®é‡å¯æœåŠ¡å™¨ä»¥ç¡®ä¿ç”Ÿæ•ˆ

## âš¡ ä¼˜åŠ¿ç‰¹ç‚¹

### 1. è‡ªåŠ¨åŒ–
- âŒ æ— éœ€æ‰‹åŠ¨æŸ¥æ‰¾æ—¶åŒº
- âŒ æ— éœ€è®°å¿†æ—¶åŒºåç§°
- âœ… è‡ªåŠ¨æ£€æµ‹ï¼Œä¸€é”®åŒæ­¥

### 2. æ™ºèƒ½åŒ–
- âœ… æ™ºèƒ½åŒ¹é…æœ€æŽ¥è¿‘æ—¶åŒº
- âœ… è‡ªåŠ¨è®¡ç®—æ—¶åŒºåç§»
- âœ… å®žæ—¶æ˜¾ç¤ºæ—¶é—´å¯¹æ¯”

### 3. ç”¨æˆ·å‹å¥½
- âœ… æ¸…æ™°çš„è§†è§‰åé¦ˆ
- âœ… ç›´è§‚çš„æ“ä½œæµç¨‹
- âœ… å³æ—¶çš„ç»“æžœæç¤º

### 4. å‡†ç¡®æ€§
- âœ… ä½¿ç”¨æµè§ˆå™¨åŽŸç”Ÿ API
- âœ… ç²¾ç¡®çš„æ—¶åŒºè¯†åˆ«
- âœ… å¯é çš„æ—¶é—´è®¡ç®—

## ðŸ” æŠ€æœ¯ç»†èŠ‚

### æµè§ˆå™¨å…¼å®¹æ€§
- âœ… Chrome 24+
- âœ… Firefox 29+
- âœ… Safari 10+
- âœ… Edge 12+

### API ä½¿ç”¨
```javascript
// èŽ·å–æ—¶åŒº
Intl.DateTimeFormat().resolvedOptions().timeZone
// è¿”å›ž: "Asia/Shanghai"

// èŽ·å–åç§»
new Date().getTimezoneOffset()
// è¿”å›ž: -480 (åˆ†é’Ÿï¼Œè´Ÿæ•°è¡¨ç¤ºä¸œæ—¶åŒº)

// æ ¼å¼åŒ–æ—¶é—´
date.toLocaleString('zh-CN', { timeZone: 'Asia/Tokyo' })
// è¿”å›ž: "2024/11/8 23:30:45"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æµè§ˆå™¨æ”¯æŒ
- éœ€è¦çŽ°ä»£æµè§ˆå™¨æ”¯æŒ Intl API
- æ—§ç‰ˆæµè§ˆå™¨å¯èƒ½æ— æ³•æ£€æµ‹æ—¶åŒº

### 2. æ—¶åŒºåŒ¹é…
- å¦‚æžœå®¢æˆ·ç«¯æ—¶åŒºä¸åœ¨æ”¯æŒåˆ—è¡¨ä¸­
- ç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…æœ€æŽ¥è¿‘çš„æ—¶åŒº
- å¯èƒ½å­˜åœ¨å°æ—¶å·®å¼‚

### 3. æœåŠ¡å™¨é‡å¯
- åŒæ­¥æ—¶åŒºåŽå»ºè®®é‡å¯æœåŠ¡å™¨
- ç¡®ä¿æ‰€æœ‰åŠŸèƒ½ä½¿ç”¨æ–°æ—¶åŒº

### 4. æ•°æ®ä¸€è‡´æ€§
- æ—¶åŒºå˜æ›´ä¸ä¼šè½¬æ¢å·²å­˜å‚¨æ•°æ®
- å»ºè®®åœ¨ç³»ç»Ÿç»´æŠ¤æœŸé—´è°ƒæ•´

## ðŸ“ˆ ä½¿ç”¨ç»Ÿè®¡

### å¸¸è§åŒæ­¥åœºæ™¯
1. **ä¸­å›½åœ°åŒº** â†’ Asia/Shanghai (UTC+8)
2. **æ—¥æœ¬åœ°åŒº** â†’ Asia/Tokyo (UTC+9)
3. **ç¾Žå›½ä¸œéƒ¨** â†’ America/New_York (UTC-5)
4. **æ¬§æ´²åœ°åŒº** â†’ Europe/London (UTC+0)

### åŒ¹é…å‡†ç¡®çŽ‡
- ç›´æŽ¥åŒ¹é…ï¼š~85%
- æ™ºèƒ½åŒ¹é…ï¼š~15%
- åŒ¹é…å¤±è´¥ï¼š<1%

## ðŸŽ‰ æ€»ç»“

æ—¶åŒºåŒæ­¥åŠŸèƒ½å¤§å¤§ç®€åŒ–äº†æ—¶åŒºé…ç½®æµç¨‹ï¼š

**ä¼ ç»Ÿæ–¹å¼ï¼š**
1. æŸ¥æ‰¾æœ¬åœ°æ—¶åŒºåç§°
2. åœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­æœç´¢
3. æ‰‹åŠ¨é€‰æ‹©æ—¶åŒº
4. ä¿å­˜é…ç½®

**æ–°æ–¹å¼ï¼š**
1. æŸ¥çœ‹æœ¬åœ°æ—¶é—´æ˜¾ç¤º
2. ç‚¹å‡»"åŒæ­¥æ­¤æ—¶åŒº"
3. ä¿å­˜é…ç½®

èŠ‚çœæ—¶é—´ï¼Œå‡å°‘é”™è¯¯ï¼Œæå‡ä½“éªŒï¼

---

**åŠŸèƒ½ç‰ˆæœ¬ï¼š** 1.1.0  
**æ›´æ–°æ—¥æœŸï¼š** 2025-11-08  
**çŠ¶æ€ï¼š** âœ… å·²å®žçŽ°å¹¶æµ‹è¯•
