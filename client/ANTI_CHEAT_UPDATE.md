# 反作弊规则更新

## ✅ 已移除推荐频率限制

根据您的要求，已移除以下限制：
- ❌ ~~同一邀请码1小时内最多3个用户~~
- ❌ ~~同一邀请码24小时内最多10个用户~~

## 🛡️ 保留的反作弊机制

### 1. IP地址检测 ⭐⭐⭐⭐⭐
- **推荐人IP = 新用户IP** → 直接拒绝
- **同一IP使用同一邀请码** → 24小时内最多2次

### 2. 邮箱模式检测 ⭐⭐⭐⭐
- **相似邮箱**（test1, test2, test3）→ 24小时内最多2个
- **临时邮箱** → 直接拒绝

### 3. 全局IP限制 ⭐⭐⭐
- **任何IP** → 每小时最多注册5个账户

## 📊 现在的规则

| 检测项 | 限制 | 说明 |
|--------|------|------|
| 推荐人IP = 新用户IP | 禁止 | 防止自己推荐自己 |
| 同一IP使用同一邀请码 | 2次/24小时 | 防止同IP批量注册 |
| 相似邮箱模式 | 2次/24小时 | 防止批量注册 |
| 临时邮箱 | 禁止 | 要求真实邮箱 |
| 全局IP注册 | 5次/小时 | 全局限制 |

## 🎯 效果

**允许的场景**：
- ✅ 正常推广 - 无推荐数量限制
- ✅ 快速推广 - 无时间间隔限制
- ✅ 大量推广 - 只要不是同IP或相似邮箱

**仍然防止的作弊**：
- ❌ 自己推荐自己（同IP）
- ❌ 同IP批量注册（24小时内最多2次）
- ❌ 相似邮箱批量注册（test1, test2, test3）
- ❌ 使用临时邮箱

## 🔄 需要重启后端

```bash
cd server
npm run dev
```

## 💡 推广建议

现在用户可以：
- 无限制地分享邀请码
- 快速推荐多个真实用户
- 不受时间和数量限制

只要：
- 不是同一IP注册
- 不使用相似邮箱模式
- 使用真实邮箱

**更适合正常推广活动！** 🚀
