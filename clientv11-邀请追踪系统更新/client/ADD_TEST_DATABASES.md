# 🎯 添加测试数据库

## 问题

API返回成功但数据为空：`{success: true, data: []}`

这说明MongoDB数据库中没有任何数据。

## 解决方案

运行脚本添加测试数据。

### 方法1：使用脚本自动添加

```bash
cd server
node scripts/addTestDatabases.js
```

**将自动添加5个测试数据库：**
1. 身份证信息库 - ¥5
2. 手机号信息库 - ¥3
3. QQ号信息库 - ¥4
4. 微信号信息库 - ¥6
5. 邮箱信息库 - ¥3

### 方法2：在管理后台手动添加

1. **登录管理后台**
   - 访问：http://localhost:5173/admin
   - 用户名：admin
   - 密码：Admin123!

2. **进入内容管理**
   - 点击左侧菜单"内容管理"
   - 点击"数据库列表"标签

3. **添加数据库**
   - 点击"添加数据库"按钮
   - 填写表单：
     ```
     名称：身份证信息库
     描述：包含全国身份证信息数据
     价格：5
     记录数量：1500000
     支持的搜索类型：✓ 身份证  ✓ 姓名
     启用：✓
     ```
   - 点击"保存"

4. **重复添加更多数据库**

## 验证

### 1. 检查MongoDB

```bash
mongosh "mongodb://chroot:Ubuntu123!@172.16.254.15:27017/userdata?authSource=admin"

# 查看数据库数量
db.databases.countDocuments()

# 查看所有数据库
db.databases.find().pretty()
```

### 2. 测试API

```bash
curl http://localhost:3000/api/databases?isActive=true
```

**应该返回：**
```json
{
  "success": true,
  "data": {
    "databases": [
      {
        "_id": "...",
        "name": "身份证信息库",
        "description": "...",
        "price": 5,
        ...
      }
    ]
  }
}
```

### 3. 访问前端

**访问：** http://localhost:5173/databases

**应该看到：**
- ✅ 显示5个数据库卡片
- ✅ 每个卡片显示完整信息
- ✅ 统计数字正确显示

## 测试数据详情

### 1. 身份证信息库
- 价格：¥5
- 记录：1,500,000
- 支持：身份证、姓名

### 2. 手机号信息库
- 价格：¥3
- 记录：2,800,000
- 支持：手机号

### 3. QQ号信息库
- 价格：¥4
- 记录：1,200,000
- 支持：QQ号

### 4. 微信号信息库
- 价格：¥6
- 记录：980,000
- 支持：微信号、手机号

### 5. 邮箱信息库
- 价格：¥3
- 记录：1,600,000
- 支持：邮箱

## 总结

运行脚本后：
- ✅ 数据库中有5个测试数据
- ✅ 前端可以正常显示
- ✅ 用户可以查看数据列表

---

**创建时间：** 2024-10-20  
**状态：** ✅ 完成
