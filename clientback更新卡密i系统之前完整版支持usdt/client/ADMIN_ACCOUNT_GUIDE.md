# ğŸ‘‘ ç®¡ç†å‘˜è´¦å·ç®¡ç†æŒ‡å—

## ğŸ¯ å¿«é€Ÿåˆ›å»ºç®¡ç†å‘˜

### æ–¹æ³•1ï¼šä½¿ç”¨è„šæœ¬åˆ›å»ºï¼ˆæ¨èï¼‰

**æ­¥éª¤ï¼š**

1. **è¿›å…¥serverç›®å½•**
   ```bash
   cd server
   ```

2. **è¿è¡Œåˆ›å»ºè„šæœ¬**
   ```bash
   node scripts/createAdmin.js
   ```

3. **æŸ¥çœ‹è¾“å‡ºä¿¡æ¯**
   ```
   âœ… ç®¡ç†å‘˜è´¦å·åˆ›å»ºæˆåŠŸï¼
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   ğŸ“§ é‚®ç®±: admin@example.com
   ğŸ‘¤ ç”¨æˆ·å: admin
   ğŸ”‘ å¯†ç : admin123456
   ğŸ‘‘ è§’è‰²: ç®¡ç†å‘˜
   ğŸ’° åˆå§‹ç§¯åˆ†: 10000
   ğŸ’µ åˆå§‹ä½™é¢: 10000
   â­ VIPçŠ¶æ€: æ˜¯
   ğŸ« æ¨èç : XXXXXXXX
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   ```

4. **ç™»å½•ç³»ç»Ÿ**
   - è®¿é—®ï¼šhttp://localhost:5173/login
   - é‚®ç®±ï¼š`admin@example.com`
   - å¯†ç ï¼š`admin123456`

5. **âš ï¸ é‡è¦ï¼šç™»å½•åç«‹å³ä¿®æ”¹å¯†ç ï¼**

---

## ğŸ”§ ç®¡ç†å‘˜ç®¡ç†è„šæœ¬

### 1. åˆ›å»ºç®¡ç†å‘˜
```bash
cd server
node scripts/createAdmin.js
```

**åŠŸèƒ½ï¼š**
- åˆ›å»ºæ–°çš„ç®¡ç†å‘˜è´¦å·
- è‡ªåŠ¨è®¾ç½®ç®¡ç†å‘˜æƒé™
- èµ é€åˆå§‹ç§¯åˆ†å’Œä½™é¢
- è‡ªåŠ¨å¼€é€šVIPï¼ˆ1å¹´ï¼‰

**é»˜è®¤ä¿¡æ¯ï¼š**
- ç”¨æˆ·åï¼š`admin`
- é‚®ç®±ï¼š`admin@example.com`
- å¯†ç ï¼š`admin123456`
- è§’è‰²ï¼š`admin`
- ç§¯åˆ†ï¼š10000
- ä½™é¢ï¼š10000
- VIPï¼šæ˜¯ï¼ˆ1å¹´ï¼‰

---

### 2. é‡ç½®ç®¡ç†å‘˜å¯†ç 
```bash
cd server
node scripts/resetAdminPassword.js
```

**åŠŸèƒ½ï¼š**
- é‡ç½®ç®¡ç†å‘˜å¯†ç ä¸ºé»˜è®¤å¯†ç 
- é€‚ç”¨äºå¿˜è®°å¯†ç çš„æƒ…å†µ

**é‡ç½®åå¯†ç ï¼š** `admin123456`

---

### 3. æŸ¥çœ‹æ‰€æœ‰ç®¡ç†å‘˜
```bash
cd server
node scripts/listAdmins.js
```

**åŠŸèƒ½ï¼š**
- åˆ—å‡ºæ‰€æœ‰ç®¡ç†å‘˜è´¦å·
- æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- æ£€æŸ¥ç®¡ç†å‘˜çŠ¶æ€

---

## ğŸ“ æ–¹æ³•2ï¼šæ‰‹åŠ¨åœ¨æ•°æ®åº“åˆ›å»º

### ä½¿ç”¨MongoDB Shell

1. **è¿æ¥åˆ°æ•°æ®åº“**
   ```bash
   mongosh "mongodb://username:password@localhost:27017/userdata"
   ```

2. **åˆ›å»ºç®¡ç†å‘˜**
   ```javascript
   // åŠ è½½bcryptï¼ˆéœ€è¦å…ˆå®‰è£…ï¼‰
   const bcrypt = require('bcryptjs');
   
   // ç”Ÿæˆå¯†ç å“ˆå¸Œ
   const password = 'admin123456';
   const hashedPassword = bcrypt.hashSync(password, 10);
   
   // æ’å…¥ç®¡ç†å‘˜
   db.users.insertOne({
     username: 'admin',
     email: 'admin@example.com',
     password: hashedPassword,
     role: 'admin',
     points: 10000,
     balance: 10000,
     isVip: true,
     vipExpireAt: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000),
     referralCode: 'ADMIN001',
     createdAt: new Date(),
     updatedAt: new Date()
   });
   ```

---

## ğŸ” å®‰å…¨å»ºè®®

### 1. ä¿®æ”¹é»˜è®¤å¯†ç 
ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç ï¼š
1. è¿›å…¥ä¸ªäººä¸­å¿ƒ
2. ç‚¹å‡»"ä¿®æ”¹å¯†ç "
3. è®¾ç½®å¼ºå¯†ç 

### 2. å¼ºå¯†ç è¦æ±‚
- è‡³å°‘12ä½
- åŒ…å«å¤§å°å†™å­—æ¯
- åŒ…å«æ•°å­—
- åŒ…å«ç‰¹æ®Šå­—ç¬¦

### 3. å®šæœŸæ›´æ¢å¯†ç 
å»ºè®®æ¯3ä¸ªæœˆæ›´æ¢ä¸€æ¬¡å¯†ç 

### 4. ä¸è¦å…±äº«è´¦å·
æ¯ä¸ªç®¡ç†å‘˜åº”è¯¥æœ‰ç‹¬ç«‹è´¦å·

---

## ğŸ¯ ç®¡ç†å‘˜æƒé™

### å¯ä»¥è®¿é—®çš„é¡µé¢
- âœ… `/admin` - ç®¡ç†åå°é¦–é¡µ
- âœ… `/admin/users` - ç”¨æˆ·ç®¡ç†
- âœ… `/admin/content` - å†…å®¹ç®¡ç†
- âœ… `/admin/settings` - ç³»ç»Ÿè®¾ç½®
- âœ… `/admin/withdraw` - æç°ç®¡ç†
- âœ… `/admin/notifications` - é€šçŸ¥ç®¡ç†
- âœ… `/admin/site-config` - ç½‘ç«™é…ç½®
- âœ… `/admin/recharge-config` - å……å€¼é…ç½®
- âœ… `/admin/tickets` - å·¥å•ç®¡ç†

### å¯ä»¥æ‰§è¡Œçš„æ“ä½œ
- âœ… ç®¡ç†æ‰€æœ‰ç”¨æˆ·
- âœ… å®¡æ ¸æç°ç”³è¯·
- âœ… å‘å¸ƒç³»ç»Ÿé€šçŸ¥
- âœ… ä¿®æ”¹ç½‘ç«™é…ç½®
- âœ… æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡
- âœ… å¤„ç†ç”¨æˆ·å·¥å•

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: è„šæœ¬è¿è¡Œå¤±è´¥
**åŸå› ï¼š** æ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³ï¼š**
1. æ£€æŸ¥MongoDBæ˜¯å¦è¿è¡Œ
2. æ£€æŸ¥ `server/.env` é…ç½®
3. ç¡®è®¤ `MONGODB_USER_URI` æ­£ç¡®

### Q2: ç®¡ç†å‘˜å·²å­˜åœ¨
**æç¤ºï¼š** `âš ï¸ ç®¡ç†å‘˜è´¦å·å·²å­˜åœ¨`

**è§£å†³ï¼š**
- ä½¿ç”¨ç°æœ‰ç®¡ç†å‘˜ç™»å½•
- æˆ–è¿è¡Œé‡ç½®å¯†ç è„šæœ¬ï¼š
  ```bash
  node scripts/resetAdminPassword.js
  ```

### Q3: ç™»å½•åæ²¡æœ‰ç®¡ç†å‘˜æƒé™
**åŸå› ï¼š** ç”¨æˆ·è§’è‰²ä¸æ˜¯ `admin`

**è§£å†³ï¼š**
```javascript
// MongoDB Shell
db.users.updateOne(
  { email: "admin@example.com" },
  { $set: { role: "admin" } }
);
```

### Q4: å¿˜è®°ç®¡ç†å‘˜é‚®ç®±
**è§£å†³ï¼š**
```bash
# æŸ¥çœ‹æ‰€æœ‰ç®¡ç†å‘˜
node scripts/listAdmins.js
```

---

## ğŸ“Š ç®¡ç†å‘˜æ•°æ®ç»“æ„

```javascript
{
  _id: ObjectId("..."),
  username: "admin",
  email: "admin@example.com",
  password: "$2a$10$...", // åŠ å¯†åçš„å¯†ç 
  role: "admin",          // é‡è¦ï¼šå¿…é¡»æ˜¯ "admin"
  points: 10000,
  balance: 10000,
  isVip: true,
  vipExpireAt: ISODate("2025-10-19"),
  referralCode: "ADMIN001",
  createdAt: ISODate("2024-10-19"),
  updatedAt: ISODate("2024-10-19")
}
```

---

## ğŸ”„ æ‰¹é‡æ“ä½œ

### åˆ›å»ºå¤šä¸ªç®¡ç†å‘˜

ä¿®æ”¹ `createAdmin.js` è„šæœ¬ï¼Œæ·»åŠ å¤šä¸ªç®¡ç†å‘˜ä¿¡æ¯ï¼š

```javascript
const admins = [
  {
    username: 'admin1',
    email: 'admin1@example.com',
    password: 'admin123456'
  },
  {
    username: 'admin2',
    email: 'admin2@example.com',
    password: 'admin123456'
  }
];

// å¾ªç¯åˆ›å»º
for (const adminData of admins) {
  // ... åˆ›å»ºé€»è¾‘
}
```

### æ‰¹é‡é‡ç½®å¯†ç 

```javascript
// MongoDB Shell
db.users.updateMany(
  { role: "admin" },
  { $set: { password: "$2a$10$..." } }
);
```

---

## ğŸ“ è„šæœ¬è¯´æ˜

### createAdmin.js
- **ä½ç½®ï¼š** `server/scripts/createAdmin.js`
- **åŠŸèƒ½ï¼š** åˆ›å»ºæ–°ç®¡ç†å‘˜
- **æ£€æŸ¥ï¼š** è‡ªåŠ¨æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
- **è¾“å‡ºï¼š** æ˜¾ç¤ºè´¦å·ä¿¡æ¯

### resetAdminPassword.js
- **ä½ç½®ï¼š** `server/scripts/resetAdminPassword.js`
- **åŠŸèƒ½ï¼š** é‡ç½®ç®¡ç†å‘˜å¯†ç 
- **æŸ¥æ‰¾ï¼š** è‡ªåŠ¨æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç®¡ç†å‘˜
- **å¯†ç ï¼š** é‡ç½®ä¸º `admin123456`

### listAdmins.js
- **ä½ç½®ï¼š** `server/scripts/listAdmins.js`
- **åŠŸèƒ½ï¼š** åˆ—å‡ºæ‰€æœ‰ç®¡ç†å‘˜
- **æ˜¾ç¤ºï¼š** è¯¦ç»†ä¿¡æ¯å’Œç»Ÿè®¡

---

## âœ… éªŒè¯æ¸…å•

åˆ›å»ºç®¡ç†å‘˜åï¼Œè¯·éªŒè¯ï¼š

- [ ] å¯ä»¥ä½¿ç”¨é‚®ç®±å’Œå¯†ç ç™»å½•
- [ ] ç™»å½•åæ˜¾ç¤ºç®¡ç†å‘˜èº«ä»½
- [ ] å¯ä»¥è®¿é—® `/admin` é¡µé¢
- [ ] å¯ä»¥çœ‹åˆ°ç®¡ç†å‘˜èœå•
- [ ] å¯ä»¥ç®¡ç†ç”¨æˆ·
- [ ] å¯ä»¥ä¿®æ”¹ç³»ç»Ÿè®¾ç½®

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### åˆ›å»ºç®¡ç†å‘˜
```bash
cd server && node scripts/createAdmin.js
```

### é‡ç½®å¯†ç 
```bash
cd server && node scripts/resetAdminPassword.js
```

### æŸ¥çœ‹ç®¡ç†å‘˜
```bash
cd server && node scripts/listAdmins.js
```

### ç™»å½•ä¿¡æ¯
- **URLï¼š** http://localhost:5173/login
- **é‚®ç®±ï¼š** admin@example.com
- **å¯†ç ï¼š** admin123456

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥æ•°æ®åº“è¿æ¥
2. æŸ¥çœ‹è„šæœ¬è¾“å‡º
3. æ£€æŸ¥ `.env` é…ç½®
4. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

---

**åˆ›å»ºæ—¶é—´ï¼š** 2024-10-19  
**ç‰ˆæœ¬ï¼š** v1.0.0  
**çŠ¶æ€ï¼š** âœ… å¯ç”¨
